{"version":3,"sources":["webpack:///./node_modules/_@babel_runtime@7.13.6@@babel/runtime/helpers/classCallCheck/_index.mjs","webpack:///./node_modules/_@babel_runtime@7.13.6@@babel/runtime/helpers/createClass/_index.mjs","webpack:///./src/views/develop/Draw.vue?e9de","webpack:///./src/views/develop/Draw.vue?6003","webpack:///./src/utils/develop/drawing.js","webpack:///src/views/develop/Draw.vue","webpack:///./src/views/develop/Draw.vue?055f","webpack:///./src/views/develop/Draw.vue"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","selectColor","_m","active","_v","xuanzeBtn","shape","_e","newFlie","preservation","backOff","fillOrStroke","thickness","rubber","cancelSelect","staticRenderFns","drawing","cxt","w","h","canvas","xuanze","xobj","zhezhao","width","height","fillStyle","bordercolor","lineWidth","type","shaps","history","selectFlag","pen","style","temp","push","getImageData","strokeStyle","x","y","x1","y1","beginPath","moveTo","lineTo","closePath","stroke","rect","r","Math","sqrt","arc","PI","init","r2","cos","sin","that","onmousedown","e","startx","offsetX","starty","offsetY","onmousemove","clearRect","putImageData","endx","endy","quadraticCurveTo","onmouseup","style1","style2","lefts","tops","window","minx","miny","abs","drag","ox","oy","cursor","cx","cy","component"],"mappings":"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","file":"js/chunk-77a627c8.18a9952d.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Draw.vue?vue&type=style&index=0&id=3419a652&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"drawing\"},[_c('div',{staticClass:\"tiaojie\"},[_c('ul',[_c('li',{attrs:{\"data-color\":\"#000000\"},on:{\"click\":function($event){return _vm.selectColor('#000000')}}}),_c('li',{attrs:{\"data-color\":\"#ffffff\"},on:{\"click\":function($event){return _vm.selectColor('#ffffff')}}}),_c('li',{attrs:{\"data-color\":\"red\"},on:{\"click\":function($event){return _vm.selectColor('red')}}}),_c('li',{attrs:{\"data-color\":\"blue\"},on:{\"click\":function($event){return _vm.selectColor('blue')}}}),_c('li',{attrs:{\"data-color\":\"green\"},on:{\"click\":function($event){return _vm.selectColor('green')}}}),_c('li',{attrs:{\"data-color\":\"deeppink\"},on:{\"click\":function($event){return _vm.selectColor('deeppink')}}}),_c('li',{attrs:{\"data-color\":\"orange\"},on:{\"click\":function($event){return _vm.selectColor('orange')}}}),_c('li',{attrs:{\"data-color\":\"purple\"},on:{\"click\":function($event){return _vm.selectColor('purple')}}})])]),_vm._m(0),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"tool\"},[_c('ul',[_c('li',{on:{\"click\":function($event){_vm.active = 2}}},[_c('span',[_vm._v(\"文件\")])]),_c('li',{on:{\"click\":function($event){_vm.active = 1}}},[_c('span',[_vm._v(\"画图\")])]),_c('li',{on:{\"click\":function($event){_vm.active = 3}}},[_c('span',[_vm._v(\"类型\")])]),_c('li',{on:{\"click\":function($event){_vm.active = 6}}},[_c('span',[_vm._v(\"粗细\")])]),_c('li',{on:{\"click\":function($event){_vm.active = 7}}},[_c('span',[_vm._v(\"橡皮\")])]),_c('li',{staticClass:\"tool-xuanze\",on:{\"click\":_vm.xuanzeBtn}},[_c('span',[_vm._v(\"选择\")])])])]),_c('div',{staticClass:\"list\"},[(_vm.active == 1)?_c('ul',{staticClass:\"functions uls1\"},[_c('li',{attrs:{\"data-role\":\"pen\"},on:{\"click\":function($event){return _vm.shape('pen');}}},[_c('span',[_vm._v(\"画笔\")])]),_c('li',{attrs:{\"data-role\":\"line\"},on:{\"click\":function($event){return _vm.shape('line');}}},[_c('span',[_vm._v(\"线\")])]),_c('li',{attrs:{\"data-role\":\"rect\"},on:{\"click\":function($event){return _vm.shape('rect');}}},[_c('span',[_vm._v(\"矩形\")])]),_c('li',{attrs:{\"data-role\":\"circle\"},on:{\"click\":function($event){return _vm.shape('circle');}}},[_c('span',[_vm._v(\"圆\")])]),_c('li',{attrs:{\"data-role\":\"five\"},on:{\"click\":function($event){return _vm.shape('five');}}},[_c('span',[_vm._v(\"五角星\")])])]):_vm._e(),(_vm.active == 2)?_c('ul',{staticClass:\"functions uls2\"},[_c('li',{on:{\"click\":_vm.newFlie}},[_c('span',[_vm._v(\"新建\")])]),_c('li',{on:{\"click\":_vm.preservation}},[_c('span',[_vm._v(\"保存\")])]),_c('li',{on:{\"click\":_vm.backOff}},[_c('span',[_vm._v(\"后退\")])])]):_vm._e(),(_vm.active == 3)?_c('ul',{staticClass:\"functions uls3\"},[_c('li',{attrs:{\"data-role\":\"stroke\"},on:{\"click\":function($event){return _vm.fillOrStroke('stroke')}}},[_c('span',[_vm._v(\"画线\")])]),_c('li',{attrs:{\"data-role\":\"fill\"},on:{\"click\":function($event){return _vm.fillOrStroke('fill')}}},[_c('span',[_vm._v(\"填充\")])])]):_vm._e(),(_vm.active == 4)?_c('ul',{staticClass:\"functions uls4\"}):_vm._e(),(_vm.active == 5)?_c('ul',{staticClass:\"functions uls5\"}):_vm._e(),(_vm.active == 6)?_c('ul',{staticClass:\" functions uls6\"},[_c('li',{attrs:{\"data-role\":\"1\"},on:{\"click\":function($event){return _vm.thickness(1)}}},[_c('span',[_vm._v(\"细\")])]),_c('li',{attrs:{\"data-role\":\"3\"},on:{\"click\":function($event){return _vm.thickness(3)}}},[_c('span',[_vm._v(\"中\")])]),_c('li',{attrs:{\"data-role\":\"6\"},on:{\"click\":function($event){return _vm.thickness(6)}}},[_c('span',[_vm._v(\"粗\")])])]):_vm._e(),(_vm.active == 7)?_c('ul',{staticClass:\" functions uls7\"},[_c('li',{attrs:{\"data-role\":\"20\"},on:{\"click\":function($event){return _vm.rubber(20)}}},[_c('span',[_vm._v(\"小\")])]),_c('li',{attrs:{\"data-role\":\"30\"},on:{\"click\":function($event){return _vm.rubber(30)}}},[_c('span',[_vm._v(\"中\")])]),_c('li',{attrs:{\"data-role\":\"80\"},on:{\"click\":function($event){return _vm.rubber(80)}}},[_c('span',[_vm._v(\"大\")])]),_c('li',{attrs:{\"data-role\":\"200\"},on:{\"click\":function($event){return _vm.rubber(200)}}},[_c('span',[_vm._v(\"超级大\")])])]):_vm._e(),(_vm.active == 8)?_c('ul',{staticClass:\"functions uls8\"},[_c('li',{attrs:{\"data-role\":\"200\"},on:{\"click\":function($event){return _vm.cancelSelect()}}},[_c('span',[_vm._v(\"取消选择\")])])]):_vm._e()])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"left canvas-box\"},[_c('canvas',{attrs:{\"id\":\"canvas\"}}),_c('div',{staticClass:\"xp\"}),_c('div',{staticClass:\"xuanze\"}),_c('div',{staticClass:\"zhezhao\"})])}]\n\nexport { render, staticRenderFns }","class drawing {   \r\n    constructor (cxt,w,h,canvas,xuanze,xobj,zhezhao) {\r\n        this.cxt         = cxt;\r\n        this.width       = w;\r\n        this.height      = h;\r\n        this.canvas      = canvas;  /* 画布 */\r\n        this.xobj        = xobj;   /* 橡皮 */\r\n        this.xuanze      = xuanze;  /* 选择 */\r\n        this.fillStyle   = \"#000\";  /* 填充颜色 */\r\n        this.bordercolor = \"#000\"; /* 边框颜色 */\r\n        this.lineWidth   = 2;         /* 线条宽度 */\r\n        this.type        = \"stroke\";      /* 默认无填充 */\r\n        this.shaps       = \"line\";       /* 默认画直线 */\r\n        this.history     = [];           /* 历史记录 */\r\n        this.selectFlag  = true;        /* 开关 */\r\n        this.zhezhao     = zhezhao;     /* 遮罩 主要用来 解决 橡皮和选择的时候 出现鼠标移动的物体发生改变 事件失效问题 */\r\n        this.pen(); \r\n    }\r\n    init () {\r\n        // 初始化\r\n        this.xobj.style    = \"display: none\";\r\n        this.xuanze.style  = \"display: none\";\r\n        if (this.temp) {\r\n            this.history.push(this.cxt.getImageData(0, 0, this.width, this.height));\r\n            this.temp = null;\r\n        }\r\n        this.cxt.fillStyle = this.fillStyle;\r\n        this.cxt.strokeStyle = this.bordercolor;\r\n        this.cxt.lineWidth = this.lineWidth;\r\n    }\r\n    /* 直线 */\r\n    line (x,y,x1,y1){\r\n        this.cxt.beginPath();\r\n        this.cxt.moveTo(x,y);\r\n        this.cxt.lineTo(x1,y1);\r\n        this.cxt.closePath();\r\n        this.cxt.stroke();\r\n    }\r\n    /* 方形 */\r\n    rect (x,y,x1,y1){\r\n        this.cxt.beginPath();\r\n        this.cxt.rect(x,y,x1-x,y1-y);\r\n        this.cxt.closePath();\r\n        this.cxt[this.type]();\r\n    }\r\n\r\n    /* 圆 */\r\n    circle (x,y,x1,y1) {\r\n        /*  */\r\n        var r=Math.sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y));\r\n        this.cxt.beginPath();\r\n        this.cxt.arc(x,y,r,0,Math.PI*2);\r\n        this.cxt.closePath();\r\n        this.cxt[this.type]();\r\n    }\r\n    /* 五角星 */\r\n    five (x,y,x1,y1){\r\n        this.init();\r\n        var r=Math.sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y));\r\n        var r2=r/2;\r\n        this.cxt.beginPath();\r\n        this.cxt.moveTo(r+x,y);\r\n        for(var i=0;i<10;i++){\r\n            if(i%2==0){\r\n                this.cxt.lineTo(x+Math.cos(i*36*Math.PI/180)*r,y+Math.sin(i*36*Math.PI/180)*r);\r\n            }else{\r\n                this.cxt.lineTo(x+Math.cos(i*36*Math.PI/180)*r2,y+Math.sin(i*36*Math.PI/180)*r2);\r\n            }\r\n        }\r\n        this.cxt.closePath();\r\n        this.cxt[this.type]();\r\n    }\r\n    /* 画笔 */\r\n    pen () {\r\n        var that = this;\r\n        that.canvas.onmousedown = function(e){\r\n            that.init();  /* 初始化 */\r\n            that.cxt.beginPath();\r\n            var startx   = e.offsetX;  //起始点\r\n            var starty   = e.offsetY;\r\n            that.cxt.moveTo(startx,starty);             \r\n            that.canvas.onmousemove = function(e){\r\n                /* 清空画布 */                \r\n                that.cxt.clearRect(0,0,that.width,that.height);\r\n                if(that.history.length>0){\r\n                    that.cxt.putImageData(that.history[that.history.length-1],0,0);\r\n                }\r\n                var endx = e.offsetX;\r\n                var endy = e.offsetY;\r\n                //that.cxt.lineTo(endx,endy);\r\n                that.cxt.quadraticCurveTo(startx,starty,(startx+endx)/2,(starty+endy)/2);\r\n                that.cxt.stroke();\r\n                startx = endx;\r\n                starty = endy;\r\n            }\r\n            that.canvas.onmouseup = function(){\r\n                that.history.push(that.cxt.getImageData(0,0,that.width,that.height));\r\n                that.canvas.onmousemove = null;\r\n                that.canvas.onmouseup = null;\r\n            }\r\n        }\r\n    }\r\n    draw () {\r\n        var that = this;\r\n        that.canvas.onmousedown = function (e) {\r\n            that.init();  /* 初始化 */\r\n            var startx = e.offsetX;\r\n            var starty = e.offsetY;\r\n            that.canvas.onmousemove = function(e){\r\n                /* 清空画布 */\r\n                that.cxt.clearRect(0,0,that.width,that.height);\r\n                if(that.history.length>0){\r\n                    that.cxt.putImageData(that.history[that.history.length-1],0,0);\r\n                }\r\n                var endx = e.offsetX;\r\n                var endy = e.offsetY;\r\n                that[that.shaps](startx,starty,endx,endy);\r\n            }\r\n            that.canvas.onmouseup = function(){\r\n                that.history.push(that.cxt.getImageData(0,0,that.width,that.height));\r\n                that.canvas.onmousemove = null;\r\n                that.canvas.onmouseup = null;\r\n            }\r\n        }\r\n    }\r\n    xp(zhezhao,xobj, w, h){\r\n        var that=this;\r\n        zhezhao.style = \"display:block;\";\r\n        let style1 = \"width:\" + w + \"px;height:\" + h + \"px; display: block;\";\r\n        let style2 = '';\r\n        xobj.style = style1 + style2;\r\n        zhezhao.onmousedown=function(e){\r\n            var lefts= e.offsetX-w/2;\r\n            var tops= e.offsetY-h/2;\r\n            if(lefts<=0){\r\n                lefts=0;\r\n            }\r\n            if(lefts>=(that.width-w)){\r\n                lefts=that.width-w;\r\n            }\r\n            if(tops<=0){\r\n                tops=0;\r\n            }\r\n            if(tops>=(that.height-h)){\r\n                tops=that.height-h;\r\n            }\r\n            style2 = \"left:\" + lefts + \"px; top:\" + tops + \"px;\";\r\n            xobj.style = style1 + style2;\r\n            zhezhao.onmousemove=function(e){\r\n                var lefts= e.offsetX-w/2;\r\n                var tops= e.offsetY-h/2;\r\n                if(lefts<=0){\r\n                    lefts=0;\r\n                }\r\n                if(lefts>=(that.width-w)){\r\n                    lefts=that.width-w;\r\n                }\r\n                if(tops<=0){\r\n                    tops=0;\r\n                }\r\n                if(tops>=(that.height-h)){\r\n                    tops=that.height-h;\r\n                }\r\n                style2 = \"left:\" + lefts + \"px; top:\" + tops + \"px;\";\r\n                xobj.style = style1 + style2;\r\n                that.cxt.clearRect(lefts,tops,w,h);\r\n            };\r\n            window.onmouseup=function(){\r\n                xobj.style = \"display: none\";\r\n                zhezhao.style = \"display:none;\";\r\n                that.history.push(that.cxt.getImageData(0,0,that.width,that.height));\r\n                zhezhao.onmousemove=null;\r\n                zhezhao.onmouseup=null;\r\n            }\r\n\r\n        }\r\n    }\r\n    select (xuanze) {\r\n        var that=this;\r\n        that.init();\r\n        that.zhezhao.style = \"display: block;\";\r\n        that.zhezhao.onmousedown=function(e){\r\n            var startx= e.offsetX;\r\n            var starty= e.offsetY,minx,miny, w,h;\r\n            that.init();\r\n            that.zhezhao.onmousemove=function(e){\r\n                that.init();\r\n                var endx= e.offsetX;\r\n                var endy= e.offsetY;\r\n                minx=startx>endx?endx:startx;\r\n                miny=starty>endy?endy:starty;\r\n                w=Math.abs(startx-endx);\r\n                h=Math.abs(starty-endy);\r\n                xuanze.style = \"display:block; left:\" + minx + \"px; top:\" + miny + \"px;width:\" + w +\"px;height:\" + h + \"px;\";\r\n            }\r\n            that.zhezhao.onmouseup=function(){\r\n                that.zhezhao.onmouseup=null;\r\n                that.zhezhao.onmousemove=null;\r\n                that.temp=that.cxt.getImageData(minx,miny,w,h);\r\n                that.cxt.clearRect(minx,miny,w,h);\r\n                that.history.push(that.cxt.getImageData(0,0,that.width,that.height));\r\n                that.cxt.putImageData(that.temp,minx,miny);\r\n                that.drag(minx,miny,w,h,xuanze);\r\n            }\r\n        }\r\n\r\n    }\r\n    drag (x,y,w,h,xuanze) {\r\n        var that=this;\r\n        that.zhezhao.onmousemove=function(e){\r\n            var ox = e.offsetX;\r\n            var oy = e.offsetY;\r\n            if(ox>x&&ox<x+w&&oy>y&&oy<y+h){\r\n                that.zhezhao.style.cursor=\"move\";\r\n            }else{\r\n                that.zhezhao.style.cursor=\"default\";\r\n            }\r\n        }\r\n\r\n        that.zhezhao.onmousedown=function(e){\r\n            var ox = e.offsetX;\r\n            var oy = e.offsetY;\r\n            var cx =ox-x;\r\n            var cy =oy-y;\r\n            if(ox>x&&ox<x+w&&oy>y&&oy<y+h){\r\n                that.zhezhao.style.cursor=\"move\";\r\n            }else{\r\n                that.zhezhao.style.cursor=\"default\";\r\n                return;\r\n            }\r\n            that.zhezhao.onmousemove=function(e){                 \r\n                that.cxt.clearRect(0,0,that.width,that.height);\r\n                if(that.history.length!==0){\r\n                    that.cxt.putImageData(that.history[that.history.length-1],0,0);\r\n                }\r\n                var endx  = e.offsetX;\r\n                var endy  = e.offsetY;\r\n                var lefts = endx-cx;\r\n                var tops  = endy-cy;\r\n                if(lefts<0){\r\n                    lefts=0;\r\n                }\r\n                if(lefts>that.width-w){\r\n                    lefts=that.width-w;\r\n                }\r\n\r\n                if(tops<0){\r\n                    tops=0;\r\n                }\r\n                if(tops>that.height-h){\r\n                    tops=that.height-h;\r\n                }\r\n                xuanze.style = \"display:block; left:\" + lefts + \"px; top:\" + tops + \"px;width:\" + w +\"px;height:\" + h + \"px;\";\r\n                x=lefts;\r\n                y=tops;\r\n                that.cxt.putImageData(that.temp,lefts,tops);\r\n            }\r\n            window.onmouseup=function(){\r\n                that.zhezhao.onmouseup=null;\r\n                that.zhezhao.onmousemove=null;\r\n            }\r\n        }\r\n    }    \r\n\r\n}\r\n\r\nexport default drawing;","<template>\r\n  <div class=\"drawing\">\r\n      <div class=\"tiaojie\">\r\n            <ul>\r\n                <li @click=\"selectColor('#000000')\" data-color=\"#000000\"></li>\r\n                <li @click=\"selectColor('#ffffff')\" data-color=\"#ffffff\"></li>\r\n                <li @click=\"selectColor('red')\" data-color=\"red\"></li>\r\n                <li @click=\"selectColor('blue')\" data-color=\"blue\"></li>\r\n                <li @click=\"selectColor('green')\" data-color=\"green\"></li>\r\n                <li @click=\"selectColor('deeppink')\" data-color=\"deeppink\"></li>\r\n                <li @click=\"selectColor('orange')\" data-color=\"orange\"></li>\r\n                <li @click=\"selectColor('purple')\" data-color=\"purple\"></li>\r\n            </ul>\r\n      </div>\r\n      <div class=\"left canvas-box\">\r\n            <canvas id=\"canvas\"></canvas>\r\n            <div class=\"xp\"></div>\r\n            <div class=\"xuanze\"></div>\r\n            <div class=\"zhezhao\"></div>\r\n      </div>\r\n      <div class=\"right\">\r\n          <div class=\"tool\">\r\n              <ul>\r\n                  <li @click=\"active = 2\"><span>文件</span></li>\r\n                  <li @click=\"active = 1\"><span>画图</span></li>\r\n                  <li @click=\"active = 3\"><span>类型</span></li>\r\n                  <li @click=\"active = 6\"><span>粗细</span></li>\r\n                  <li @click=\"active = 7\"><span>橡皮</span></li>\r\n                  <li @click=\"xuanzeBtn\" class=\"tool-xuanze\"><span>选择</span></li>\r\n              </ul>\r\n          </div>\r\n          <div class=\"list\">\r\n              <ul class=\"functions uls1\" v-if=\"active == 1\">\r\n                  <li @click=\"shape('pen');\" data-role=\"pen\"><span>画笔</span></li>\r\n                  <li @click=\"shape('line');\" data-role=\"line\"><span>线</span></li>\r\n                  <li @click=\"shape('rect');\" data-role=\"rect\"><span>矩形</span></li>\r\n                  <li @click=\"shape('circle');\" data-role=\"circle\"><span>圆</span></li>\r\n                  <li @click=\"shape('five');\" data-role=\"five\"><span>五角星</span></li>\r\n              </ul>\r\n              <ul class=\"functions uls2\" v-if=\"active == 2\">\r\n                  <li @click=\"newFlie\"><span>新建</span></li>\r\n                  <li @click=\"preservation\"><span>保存</span></li>\r\n                  <li @click=\"backOff\"><span>后退</span></li>\r\n              </ul>\r\n              <ul class=\"functions uls3\" v-if=\"active == 3\">\r\n                  <li @click=\"fillOrStroke('stroke')\" data-role=\"stroke\"><span>画线</span></li>\r\n                  <li @click=\"fillOrStroke('fill')\" data-role=\"fill\"><span>填充</span></li>\r\n              </ul>\r\n              <ul class=\"functions uls4\" v-if=\"active == 4\"></ul>\r\n              <ul class=\"functions uls5\" v-if=\"active == 5\"></ul>\r\n              <ul class=\" functions uls6\" v-if=\"active == 6\">\r\n                  <li @click=\"thickness(1)\" data-role=\"1\"><span>细</span></li>\r\n                  <li @click=\"thickness(3)\" data-role=\"3\"><span>中</span></li>\r\n                  <li @click=\"thickness(6)\" data-role=\"6\"><span>粗</span></li>\r\n              </ul>\r\n              <ul class=\" functions uls7\" v-if=\"active == 7\">\r\n                  <li @click=\"rubber(20)\" data-role=\"20\"><span>小</span></li>\r\n                  <li @click=\"rubber(30)\" data-role=\"30\"><span>中</span></li>\r\n                  <li @click=\"rubber(80)\" data-role=\"80\"><span>大</span></li>\r\n                  <li @click=\"rubber(200)\" data-role=\"200\"><span>超级大</span></li>\r\n              </ul>\r\n              <ul class=\"functions uls8\" v-if=\"active == 8\">\r\n                  <li @click=\"cancelSelect()\" data-role=\"200\"><span>取消选择</span></li>\r\n              </ul>\r\n          </div>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import drawing from '@/utils/develop/drawing';\r\n  export default {\r\n    data() {\r\n      return {\r\n        active: 1,\r\n        c: '',    // canvas 实例化对象\r\n        xp: '',   // 橡皮擦\r\n        zhezhao: '',\r\n        xuanze: ''\r\n      }\r\n    },\r\n    mounted() {\r\n      let canvasBox = document.querySelector('.canvas-box');\r\n      let canvas    = document.querySelector('#canvas');\r\n      this.xuanze    = document.querySelector('.xuanze');\r\n      this.zhezhao   = document.querySelector('.zhezhao');\r\n      this.xp       = document.querySelector('.xp');\r\n      canvas.width  = canvasBox.offsetWidth;\r\n      canvas.height = canvasBox.offsetHeight;\r\n      let cxt = canvas.getContext('2d');\r\n      this.c = new drawing(cxt, canvasBox.offsetWidth, canvasBox.offsetHeight, canvas, this.xuanze, this.xp, this.zhezhao);\r\n    },\r\n    methods: {\r\n      shape (type) {\r\n        this.c.shaps = type;\r\n        this.c.shaps === 'pen' ? this.c.pen() : this.c.draw();\r\n      },\r\n      selectColor (color) {\r\n        this.c.bordercolor = color;\r\n      },\r\n      fillOrStroke (type) {\r\n        this.c.type = type;\r\n      },\r\n      thickness (num) {\r\n        this.c.lineWidth = num;\r\n      },\r\n      rubber (num) {\r\n        this.c.xp(this.zhezhao,this.xp,num,num);\r\n      },\r\n      xuanzeBtn(){\r\n        this.active = 8;\r\n        this.c.select(this.xuanze);\r\n      },\r\n      cancelSelect(){\r\n        this.c.zhezhao.style = \"display: none\";\r\n        this.c.xuanze.style = \"display: none\";\r\n      },\r\n      newFlie () {\r\n        if(this.c.history.length>0){\r\n          var yes = window.confirm(\"亲，是否保存？\");\r\n          if(yes){\r\n              location.href=(canvas.toDataURL().replace(\"data:image/png\",\"data:stream/octet\"));\r\n          }else{\r\n              this.c.history = [];\r\n              this.c.clearRect(0,0,canvas.width,canvas.height);\r\n          }\r\n        }        \r\n      },\r\n      preservation () {\r\n        if(this.c.history.length<=0){\r\n            alert(\"亲,没有要保存的内容\");\r\n        }else{\r\n            location.href=(canvas.toDataURL().replace(\"data:image/png\",\"data:stream/octet\"));\r\n        }        \r\n      },\r\n      backOff () {\r\n        if(this.c.history.length == 0){\r\n          alert(\"亲,没有历史记录\");\r\n          this.c.clearRect(0,0,canvas.width,canvas.height);\r\n          return;\r\n        }else{\r\n          var pop = this.c.history.pop();\r\n          this.c.cxt.clearRect(0,0,canvas.width,canvas.height);\r\n          this.c.cxt.putImageData(pop,0,0);\r\n        }        \r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .draw{\r\n    width: 100%;\r\n    height: 100%;\r\n    user-select: none;\r\n  }\r\n*{\r\n    box-sizing: border-box;\r\n}\r\n.canvas-box{\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.set-box{\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  display: none;\r\n}\r\n.drawing{\r\n    width: 100%;\r\n    height:100%;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n.drawing .tiaojie,.drawing .left,.drawing .right{\r\n    float: left;\r\n    height: 100%;\r\n}\r\n.drawing .tiaojie{\r\n    width: 80px;\r\n    background: #243C3C;\r\n    text-align: center;\r\n}\r\n.drawing .tiaojie ul{\r\n    width:100%;\r\n    height: 50%;\r\n}\r\n\r\n.drawing .tiaojie ul li{\r\n    width:80%;\r\n    height: 40px;\r\n    margin: 20px auto;\r\n    background: blue;\r\n    border-radius: 3px;\r\n    cursor: pointer;\r\n}\r\n\r\n.drawing .tiaojie ul li:nth-child(1){\r\n    background:#000000;\r\n}\r\n.drawing .tiaojie ul li:nth-child(2){\r\n    background: #ffffff;\r\n}\r\n.drawing .tiaojie ul li:nth-child(3){\r\n    background:red;\r\n}\r\n.drawing .tiaojie ul li:nth-child(4){\r\n    background: blue;\r\n}\r\n.drawing .tiaojie ul li:nth-child(5){\r\n    background:green;\r\n}\r\n.drawing .tiaojie ul li:nth-child(6){\r\n    background:deeppink;\r\n}\r\n.drawing .tiaojie ul li:nth-child(7){\r\n    background:orange;\r\n}\r\n.drawing .tiaojie ul li:nth-child(8){\r\n    background:purple;\r\n}\r\n\r\n.drawing .tiaojie ul li:hover{\r\n  animation: td 1s ease forwards;\r\n}\r\n\r\n.drawing .left{\r\n    width: calc(100% - 320px);\r\n    position: relative;\r\n}\r\n.drawing .left > .zhezhao{\r\n    width:100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top:0;\r\n    left:0;\r\n    z-index: 2;\r\n}\r\n.drawing .left > .xp{\r\n    display: none;\r\n    position: absolute;\r\n    background: #122EA0;\r\n}\r\n.drawing .left > .xuanze{\r\n    display: none;\r\n    border:1px dashed #000000;\r\n    position: absolute;\r\n}\r\n.drawing .right{\r\n    width: 240px;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n.drawing .right .tool,.drawing .right .list{\r\n    width:50%;\r\n    height: 100%;\r\n    float: left;\r\n}\r\n.drawing .right .tool{\r\n    border-right:1px solid darkgreen;\r\n}\r\n.drawing .right .tool ul{\r\n    width:100%;\r\n    height: 100%;\r\n    border:1px solid rgba(0,0,0,0);\r\n    background: #243C3C;\r\n}\r\n.drawing .right .tool ul li{\r\n    margin: 13px auto;\r\n    width:60%;\r\n    height: 60px;\r\n    color: #ffffff;\r\n    border-radius: 3px;\r\n    text-align: center;\r\n    line-height: 60px;\r\n    cursor: pointer;\r\n}\r\n\r\n.drawing .right .tool ul li span{\r\n     display: inline-block;\r\n }\r\n.drawing .right .tool ul li input{\r\n    border: 0;\r\n}\r\n.drawing .right .tool ul li:nth-child(1){\r\n    background-color:#207D59;\r\n}\r\n.drawing .right .tool ul li:nth-child(2){\r\n    background-color:#3B5B8E;\r\n}\r\n.drawing .right .tool ul li:nth-child(3){\r\n    background-color:#5C9FAF;\r\n}\r\n.drawing .right .tool ul li:nth-child(4){\r\n    background-color:#B85B53;\r\n}\r\n.drawing .right .tool ul li:nth-child(5){\r\n    background-color:#435DB2;\r\n}\r\n.drawing .right .tool ul li:nth-child(6){\r\n    background-color:#B243AD;\r\n}\r\n.drawing .right .tool ul li:nth-child(7){\r\n    background-color:#122EA0;\r\n}\r\n.drawing .right .tool ul li:nth-child(8){\r\n    background-color:#A05512;\r\n}\r\n.drawing .right .tool ul li:hover{\r\n  animation: hover 1s ease forwards;\r\n}\r\n.drawing .right .tool ul li:hover span{\r\n  animation: xz 4s ease forwards;\r\n}\r\n.drawing .right .list ul{\r\n    width:100%;\r\n    height: 100%;\r\n    border:1px solid rgba(0,0,0,0);\r\n    background: #243C3C;\r\n}\r\n.drawing .right .list ul li{\r\n     margin: 13px auto;\r\n     width:60%;\r\n     height: 60px;\r\n     border-radius: 3px;\r\n     color: #ffffff;\r\n     text-align: center;\r\n     line-height: 60px;\r\n    cursor: pointer;\r\n }\r\n\r\n.drawing .right .list .uls1 li{\r\n    background: #207D59;\r\n}\r\n\r\n.drawing .right .list .uls2 li{\r\n    background: #3B5B8E;\r\n}\r\n.drawing .right .list .uls3 li{\r\n    background: #5C9FAF;\r\n}\r\n\r\n.drawing .right .list .uls4 li{\r\n    background: #B85B53;\r\n}\r\n.drawing .right .list .uls5 li{\r\n    background: #435DB2;\r\n}\r\n\r\n.drawing .right .list .uls6 li{\r\n    background: #B243AD;\r\n}\r\n.drawing .right .list .uls7 li{\r\n    background: #122EA0;\r\n}\r\n.drawing .right .list .uls8 li{\r\n    background: #A05512;\r\n}\r\n.drawing .right .list li:hover{\r\n  animation: hover 1s ease forwards;\r\n}\r\n.zhezhao{\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  z-index: 10;\r\n  display: none;\r\n}\r\n\r\n/* 画布 */\r\ncanvas{\r\n    background: #cccccc;\r\n}\r\n\r\n\r\n/* 旋转 */\r\n@keyframes xz {\r\n    0%{\r\n        transform: rotateY(0deg);\r\n    }\r\n    100%{\r\n        transform: rotateY(360deg);\r\n    }\r\n\r\n}\r\n\r\n/* 鼠标滑过效果 */\r\n@keyframes hover {\r\n    0%{\r\n        opacity: 1;\r\n    }\r\n    100%{\r\n        opacity:0.6;\r\n    }\r\n}\r\n\r\n@keyframes td {\r\n    0%{\r\n        transform: translateY(0px);\r\n    }\r\n    25%{\r\n        transform: translateY(-10px);\r\n    }\r\n    50%{\r\n        transform: translateY(0px);\r\n    }\r\n    75%{\r\n        transform: translateY(-5px);\r\n    }\r\n    100%{\r\n        transform: translateY(0px);\r\n    }\r\n}\r\n\r\n/* 显示效果 */\r\n@keyframes show {\r\n    0%{\r\n        opacity: 0;\r\n    }\r\n    100%{\r\n       opacity: 1;\r\n    }\r\n}\r\n\r\n/* 隐藏效果 */\r\n@keyframes hide {\r\n    0%{\r\n        opacity: 1;\r\n    }\r\n    100%{\r\n        opacity: 0;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Draw.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Draw.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Draw.vue?vue&type=template&id=3419a652&scoped=true&\"\nimport script from \"./Draw.vue?vue&type=script&lang=js&\"\nexport * from \"./Draw.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Draw.vue?vue&type=style&index=0&id=3419a652&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3419a652\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}