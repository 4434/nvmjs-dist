{"version":3,"sources":["webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/define-property.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck.js","webpack:///./src/views/develop/Draw.vue?e58e","webpack:///./src/assets/js/develop/drawing.js","webpack:///src/views/develop/Draw.vue","webpack:///./src/views/develop/Draw.vue?121d","webpack:///./src/views/develop/Draw.vue","webpack:///./src/views/develop/Draw.vue?ad32"],"names":["__webpack_require__","$Object","Object","module","exports","it","key","desc","defineProperty","$export","S","F","f","d","__webpack_exports__","_createClass","_core_js_object_define_property__WEBPACK_IMPORTED_MODULE_0__","_core_js_object_define_property__WEBPACK_IMPORTED_MODULE_0___default","n","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","data-color","on","click","$event","selectColor","_m","active","_v","xuanzeBtn","data-role","shape","_e","newFlie","preservation","backOff","fillOrStroke","thickness","rubber","cancelSelect","staticRenderFns","id","drawing","cxt","w","h","canvas","xuanze","xobj","zhezhao","classCallCheck","width","height","fillStyle","bordercolor","lineWidth","type","shaps","history","selectFlag","pen","style","temp","push","getImageData","strokeStyle","x","y","x1","y1","beginPath","moveTo","lineTo","closePath","stroke","rect","r","Math","sqrt","arc","PI","init","r2","cos","sin","that","onmousedown","e","startx","offsetX","starty","offsetY","onmousemove","clearRect","putImageData","endx","endy","quadraticCurveTo","onmouseup","style1","style2","lefts","tops","window","minx","miny","abs","drag","ox","oy","cursor","cx","cy","Drawvue_type_script_lang_js_","data","c","xp","mounted","canvasBox","document","querySelector","offsetWidth","offsetHeight","getContext","develop_drawing","methods","draw","color","num","select","yes","confirm","location","href","toDataURL","replace","alert","pop","develop_Drawvue_type_script_lang_js_","component","componentNormalizer","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Draw_vue_vue_type_style_index_0_id_6f55108b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Draw_vue_vue_type_style_index_0_id_6f55108b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-0a5251dc.90540f16.js","sourcesContent":["require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","module.exports = require(\"core-js/library/fn/object/define-property\");","import _Object$defineProperty from \"../../core-js/object/define-property\";\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n\n    _Object$defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"drawing\"},[_c('div',{staticClass:\"tiaojie\"},[_c('ul',[_c('li',{attrs:{\"data-color\":\"#000000\"},on:{\"click\":function($event){return _vm.selectColor('#000000')}}}),_c('li',{attrs:{\"data-color\":\"#ffffff\"},on:{\"click\":function($event){return _vm.selectColor('#ffffff')}}}),_c('li',{attrs:{\"data-color\":\"red\"},on:{\"click\":function($event){return _vm.selectColor('red')}}}),_c('li',{attrs:{\"data-color\":\"blue\"},on:{\"click\":function($event){return _vm.selectColor('blue')}}}),_c('li',{attrs:{\"data-color\":\"green\"},on:{\"click\":function($event){return _vm.selectColor('green')}}}),_c('li',{attrs:{\"data-color\":\"deeppink\"},on:{\"click\":function($event){return _vm.selectColor('deeppink')}}}),_c('li',{attrs:{\"data-color\":\"orange\"},on:{\"click\":function($event){return _vm.selectColor('orange')}}}),_c('li',{attrs:{\"data-color\":\"purple\"},on:{\"click\":function($event){return _vm.selectColor('purple')}}})])]),_vm._m(0),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"tool\"},[_c('ul',[_c('li',{on:{\"click\":function($event){_vm.active = 1}}},[_c('span',[_vm._v(\"画图\")])]),_c('li',{on:{\"click\":function($event){_vm.active = 2}}},[_c('span',[_vm._v(\"文件\")])]),_c('li',{on:{\"click\":function($event){_vm.active = 3}}},[_c('span',[_vm._v(\"类型\")])]),_c('li',{on:{\"click\":function($event){_vm.active = 6}}},[_c('span',[_vm._v(\"粗细\")])]),_c('li',{on:{\"click\":function($event){_vm.active = 7}}},[_c('span',[_vm._v(\"橡皮\")])]),_c('li',{staticClass:\"tool-xuanze\",on:{\"click\":_vm.xuanzeBtn}},[_c('span',[_vm._v(\"选择\")])])])]),_c('div',{staticClass:\"list\"},[(_vm.active == 1)?_c('ul',{staticClass:\"functions uls1\"},[_c('li',{attrs:{\"data-role\":\"pen\"},on:{\"click\":function($event){return _vm.shape('pen');}}},[_c('span',[_vm._v(\"画笔\")])]),_c('li',{attrs:{\"data-role\":\"line\"},on:{\"click\":function($event){return _vm.shape('line');}}},[_c('span',[_vm._v(\"线\")])]),_c('li',{attrs:{\"data-role\":\"rect\"},on:{\"click\":function($event){return _vm.shape('rect');}}},[_c('span',[_vm._v(\"矩形\")])]),_c('li',{attrs:{\"data-role\":\"circle\"},on:{\"click\":function($event){return _vm.shape('circle');}}},[_c('span',[_vm._v(\"圆\")])]),_c('li',{attrs:{\"data-role\":\"five\"},on:{\"click\":function($event){return _vm.shape('five');}}},[_c('span',[_vm._v(\"五角星\")])])]):_vm._e(),(_vm.active == 2)?_c('ul',{staticClass:\"functions uls2\"},[_c('li',{on:{\"click\":_vm.newFlie}},[_c('span',[_vm._v(\"新建\")])]),_c('li',{on:{\"click\":_vm.preservation}},[_c('span',[_vm._v(\"保存\")])]),_c('li',{on:{\"click\":_vm.backOff}},[_c('span',[_vm._v(\"后退\")])])]):_vm._e(),(_vm.active == 3)?_c('ul',{staticClass:\"functions uls3\"},[_c('li',{attrs:{\"data-role\":\"stroke\"},on:{\"click\":function($event){return _vm.fillOrStroke('stroke')}}},[_c('span',[_vm._v(\"画线\")])]),_c('li',{attrs:{\"data-role\":\"fill\"},on:{\"click\":function($event){return _vm.fillOrStroke('fill')}}},[_c('span',[_vm._v(\"填充\")])])]):_vm._e(),(_vm.active == 4)?_c('ul',{staticClass:\"functions uls4\"}):_vm._e(),(_vm.active == 5)?_c('ul',{staticClass:\"functions uls5\"}):_vm._e(),(_vm.active == 6)?_c('ul',{staticClass:\" functions uls6\"},[_c('li',{attrs:{\"data-role\":\"1\"},on:{\"click\":function($event){return _vm.thickness(1)}}},[_c('span',[_vm._v(\"细\")])]),_c('li',{attrs:{\"data-role\":\"3\"},on:{\"click\":function($event){return _vm.thickness(3)}}},[_c('span',[_vm._v(\"中\")])]),_c('li',{attrs:{\"data-role\":\"6\"},on:{\"click\":function($event){return _vm.thickness(6)}}},[_c('span',[_vm._v(\"粗\")])])]):_vm._e(),(_vm.active == 7)?_c('ul',{staticClass:\" functions uls7\"},[_c('li',{attrs:{\"data-role\":\"20\"},on:{\"click\":function($event){return _vm.rubber(20)}}},[_c('span',[_vm._v(\"小\")])]),_c('li',{attrs:{\"data-role\":\"30\"},on:{\"click\":function($event){return _vm.rubber(30)}}},[_c('span',[_vm._v(\"中\")])]),_c('li',{attrs:{\"data-role\":\"80\"},on:{\"click\":function($event){return _vm.rubber(80)}}},[_c('span',[_vm._v(\"大\")])]),_c('li',{attrs:{\"data-role\":\"200\"},on:{\"click\":function($event){return _vm.rubber(200)}}},[_c('span',[_vm._v(\"超级大\")])])]):_vm._e(),(_vm.active == 8)?_c('ul',{staticClass:\"functions uls8\"},[_c('li',{attrs:{\"data-role\":\"200\"},on:{\"click\":function($event){return _vm.cancelSelect()}}},[_c('span',[_vm._v(\"取消选择\")])])]):_vm._e()])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"left canvas-box\"},[_c('canvas',{attrs:{\"id\":\"canvas\"}}),_c('div',{staticClass:\"xp\"}),_c('div',{staticClass:\"xuanze\"}),_c('div',{staticClass:\"zhezhao\"})])}]\n\nexport { render, staticRenderFns }","class drawing {   \r\n    constructor (cxt,w,h,canvas,xuanze,xobj,zhezhao) {\r\n        this.cxt         = cxt;\r\n        this.width       = w;\r\n        this.height      = h;\r\n        this.canvas      = canvas;  /* 画布 */\r\n        this.xobj        = xobj;   /* 橡皮 */\r\n        this.xuanze      = xuanze;  /* 选择 */\r\n        this.fillStyle   = \"#000\";  /* 填充颜色 */\r\n        this.bordercolor = \"#000\"; /* 边框颜色 */\r\n        this.lineWidth   = 2;         /* 线条宽度 */\r\n        this.type        = \"stroke\";      /* 默认无填充 */\r\n        this.shaps       = \"line\";       /* 默认画直线 */\r\n        this.history     = [];           /* 历史记录 */\r\n        this.selectFlag  = true;        /* 开关 */\r\n        this.zhezhao     = zhezhao;     /* 遮罩 主要用来 解决 橡皮和选择的时候 出现鼠标移动的物体发生改变 事件失效问题 */\r\n        this.pen(); \r\n    }\r\n    init () {\r\n        // 初始化\r\n        this.xobj.style    = \"display: none\";\r\n        this.xuanze.style  = \"display: none\";\r\n        if (this.temp) {\r\n            this.history.push(this.cxt.getImageData(0, 0, this.width, this.height));\r\n            this.temp = null;\r\n        }\r\n        this.cxt.fillStyle = this.fillStyle;\r\n        this.cxt.strokeStyle = this.bordercolor;\r\n        this.cxt.lineWidth = this.lineWidth;\r\n    }\r\n    /* 直线 */\r\n    line (x,y,x1,y1){\r\n        this.cxt.beginPath();\r\n        this.cxt.moveTo(x,y);\r\n        this.cxt.lineTo(x1,y1);\r\n        this.cxt.closePath();\r\n        this.cxt.stroke();\r\n    }\r\n    /* 方形 */\r\n    rect (x,y,x1,y1){\r\n        this.cxt.beginPath();\r\n        this.cxt.rect(x,y,x1-x,y1-y);\r\n        this.cxt.closePath();\r\n        this.cxt[this.type]();\r\n    }\r\n\r\n    /* 圆 */\r\n    circle (x,y,x1,y1) {\r\n        /*  */\r\n        var r=Math.sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y));\r\n        this.cxt.beginPath();\r\n        this.cxt.arc(x,y,r,0,Math.PI*2);\r\n        this.cxt.closePath();\r\n        this.cxt[this.type]();\r\n    }\r\n    /* 五角星 */\r\n    five (x,y,x1,y1){\r\n        this.init();\r\n        var r=Math.sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y));\r\n        var r2=r/2;\r\n        this.cxt.beginPath();\r\n        this.cxt.moveTo(r+x,y);\r\n        for(var i=0;i<10;i++){\r\n            if(i%2==0){\r\n                this.cxt.lineTo(x+Math.cos(i*36*Math.PI/180)*r,y+Math.sin(i*36*Math.PI/180)*r);\r\n            }else{\r\n                this.cxt.lineTo(x+Math.cos(i*36*Math.PI/180)*r2,y+Math.sin(i*36*Math.PI/180)*r2);\r\n            }\r\n        }\r\n        this.cxt.closePath();\r\n        this.cxt[this.type]();\r\n    }\r\n    /* 画笔 */\r\n    pen () {\r\n        var that = this;\r\n        that.canvas.onmousedown = function(e){\r\n            that.init();  /* 初始化 */\r\n            that.cxt.beginPath();\r\n            var startx   = e.offsetX;  //起始点\r\n            var starty   = e.offsetY;\r\n            that.cxt.moveTo(startx,starty);             \r\n            that.canvas.onmousemove = function(e){\r\n                /* 清空画布 */                \r\n                that.cxt.clearRect(0,0,that.width,that.height);\r\n                if(that.history.length>0){\r\n                    that.cxt.putImageData(that.history[that.history.length-1],0,0);\r\n                }\r\n                var endx = e.offsetX;\r\n                var endy = e.offsetY;\r\n                //that.cxt.lineTo(endx,endy);\r\n                that.cxt.quadraticCurveTo(startx,starty,(startx+endx)/2,(starty+endy)/2);\r\n                that.cxt.stroke();\r\n                startx = endx;\r\n                starty = endy;\r\n            }\r\n            that.canvas.onmouseup = function(){\r\n                that.history.push(that.cxt.getImageData(0,0,that.width,that.height));\r\n                that.canvas.onmousemove = null;\r\n                that.canvas.onmouseup = null;\r\n            }\r\n        }\r\n    }\r\n    draw () {\r\n        var that = this;\r\n        that.canvas.onmousedown = function (e) {\r\n            that.init();  /* 初始化 */\r\n            var startx = e.offsetX;\r\n            var starty = e.offsetY;\r\n            that.canvas.onmousemove = function(e){\r\n                /* 清空画布 */\r\n                that.cxt.clearRect(0,0,that.width,that.height);\r\n                if(that.history.length>0){\r\n                    that.cxt.putImageData(that.history[that.history.length-1],0,0);\r\n                }\r\n                var endx = e.offsetX;\r\n                var endy = e.offsetY;\r\n                that[that.shaps](startx,starty,endx,endy);\r\n            }\r\n            that.canvas.onmouseup = function(){\r\n                that.history.push(that.cxt.getImageData(0,0,that.width,that.height));\r\n                that.canvas.onmousemove = null;\r\n                that.canvas.onmouseup = null;\r\n            }\r\n        }\r\n    }\r\n    xp(zhezhao,xobj, w, h){\r\n        var that=this;\r\n        zhezhao.style = \"display:block;\";\r\n        let style1 = \"width:\" + w + \"px;height:\" + h + \"px; display: block;\";\r\n        let style2 = '';\r\n        xobj.style = style1 + style2;\r\n        zhezhao.onmousedown=function(e){\r\n            var lefts= e.offsetX-w/2;\r\n            var tops= e.offsetY-h/2;\r\n            if(lefts<=0){\r\n                lefts=0;\r\n            }\r\n            if(lefts>=(that.width-w)){\r\n                lefts=that.width-w;\r\n            }\r\n            if(tops<=0){\r\n                tops=0;\r\n            }\r\n            if(tops>=(that.height-h)){\r\n                tops=that.height-h;\r\n            }\r\n            style2 = \"left:\" + lefts + \"px; top:\" + tops + \"px;\";\r\n            xobj.style = style1 + style2;\r\n            zhezhao.onmousemove=function(e){\r\n                var lefts= e.offsetX-w/2;\r\n                var tops= e.offsetY-h/2;\r\n                if(lefts<=0){\r\n                    lefts=0;\r\n                }\r\n                if(lefts>=(that.width-w)){\r\n                    lefts=that.width-w;\r\n                }\r\n                if(tops<=0){\r\n                    tops=0;\r\n                }\r\n                if(tops>=(that.height-h)){\r\n                    tops=that.height-h;\r\n                }\r\n                style2 = \"left:\" + lefts + \"px; top:\" + tops + \"px;\";\r\n                xobj.style = style1 + style2;\r\n                that.cxt.clearRect(lefts,tops,w,h);\r\n            };\r\n            window.onmouseup=function(){\r\n                xobj.style = \"display: none\";\r\n                zhezhao.style = \"display:none;\";\r\n                that.history.push(that.cxt.getImageData(0,0,that.width,that.height));\r\n                zhezhao.onmousemove=null;\r\n                zhezhao.onmouseup=null;\r\n            }\r\n\r\n        }\r\n    }\r\n    select (xuanze) {\r\n        var that=this;\r\n        that.init();\r\n        that.zhezhao.style = \"display: block;\";\r\n        that.zhezhao.onmousedown=function(e){\r\n            var startx= e.offsetX;\r\n            var starty= e.offsetY,minx,miny, w,h;\r\n            that.init();\r\n            that.zhezhao.onmousemove=function(e){\r\n                that.init();\r\n                var endx= e.offsetX;\r\n                var endy= e.offsetY;\r\n                minx=startx>endx?endx:startx;\r\n                miny=starty>endy?endy:starty;\r\n                w=Math.abs(startx-endx);\r\n                h=Math.abs(starty-endy);\r\n                xuanze.style = \"display:block; left:\" + minx + \"px; top:\" + miny + \"px;width:\" + w +\"px;height:\" + h + \"px;\";\r\n            }\r\n            that.zhezhao.onmouseup=function(){\r\n                that.zhezhao.onmouseup=null;\r\n                that.zhezhao.onmousemove=null;\r\n                that.temp=that.cxt.getImageData(minx,miny,w,h);\r\n                that.cxt.clearRect(minx,miny,w,h);\r\n                that.history.push(that.cxt.getImageData(0,0,that.width,that.height));\r\n                that.cxt.putImageData(that.temp,minx,miny);\r\n                that.drag(minx,miny,w,h,xuanze);\r\n            }\r\n        }\r\n\r\n    }\r\n    drag (x,y,w,h,xuanze) {\r\n        var that=this;\r\n        that.zhezhao.onmousemove=function(e){\r\n            var ox = e.offsetX;\r\n            var oy = e.offsetY;\r\n            if(ox>x&&ox<x+w&&oy>y&&oy<y+h){\r\n                that.zhezhao.style.cursor=\"move\";\r\n            }else{\r\n                that.zhezhao.style.cursor=\"default\";\r\n            }\r\n        }\r\n\r\n        that.zhezhao.onmousedown=function(e){\r\n            var ox = e.offsetX;\r\n            var oy = e.offsetY;\r\n            var cx =ox-x;\r\n            var cy =oy-y;\r\n            if(ox>x&&ox<x+w&&oy>y&&oy<y+h){\r\n                that.zhezhao.style.cursor=\"move\";\r\n            }else{\r\n                that.zhezhao.style.cursor=\"default\";\r\n                return;\r\n            }\r\n            that.zhezhao.onmousemove=function(e){                 \r\n                that.cxt.clearRect(0,0,that.width,that.height);\r\n                if(that.history.length!==0){\r\n                    that.cxt.putImageData(that.history[that.history.length-1],0,0);\r\n                }\r\n                var endx  = e.offsetX;\r\n                var endy  = e.offsetY;\r\n                var lefts = endx-cx;\r\n                var tops  = endy-cy;\r\n                if(lefts<0){\r\n                    lefts=0;\r\n                }\r\n                if(lefts>that.width-w){\r\n                    lefts=that.width-w;\r\n                }\r\n\r\n                if(tops<0){\r\n                    tops=0;\r\n                }\r\n                if(tops>that.height-h){\r\n                    tops=that.height-h;\r\n                }\r\n                xuanze.style = \"display:block; left:\" + lefts + \"px; top:\" + tops + \"px;width:\" + w +\"px;height:\" + h + \"px;\";\r\n                x=lefts;\r\n                y=tops;\r\n                that.cxt.putImageData(that.temp,lefts,tops);\r\n            }\r\n            window.onmouseup=function(){\r\n                that.zhezhao.onmouseup=null;\r\n                that.zhezhao.onmousemove=null;\r\n            }\r\n        }\r\n    }    \r\n\r\n}\r\n\r\nexport default drawing;","<template>\r\n  <div class=\"drawing\">\r\n      <div class=\"tiaojie\">\r\n            <ul>\r\n                <li @click=\"selectColor('#000000')\" data-color=\"#000000\"></li>\r\n                <li @click=\"selectColor('#ffffff')\" data-color=\"#ffffff\"></li>\r\n                <li @click=\"selectColor('red')\" data-color=\"red\"></li>\r\n                <li @click=\"selectColor('blue')\" data-color=\"blue\"></li>\r\n                <li @click=\"selectColor('green')\" data-color=\"green\"></li>\r\n                <li @click=\"selectColor('deeppink')\" data-color=\"deeppink\"></li>\r\n                <li @click=\"selectColor('orange')\" data-color=\"orange\"></li>\r\n                <li @click=\"selectColor('purple')\" data-color=\"purple\"></li>\r\n            </ul>\r\n      </div>\r\n      <div class=\"left canvas-box\">\r\n            <canvas id=\"canvas\"></canvas>\r\n            <div class=\"xp\"></div>\r\n            <div class=\"xuanze\"></div>\r\n            <div class=\"zhezhao\"></div>\r\n      </div>\r\n      <div class=\"right\">\r\n          <div class=\"tool\">\r\n              <ul>\r\n                  <li @click=\"active = 1\"><span>画图</span></li>\r\n                  <li @click=\"active = 2\"><span>文件</span></li>\r\n                  <li @click=\"active = 3\"><span>类型</span></li>\r\n                  <li @click=\"active = 6\"><span>粗细</span></li>\r\n                  <li @click=\"active = 7\"><span>橡皮</span></li>\r\n                  <li @click=\"xuanzeBtn\" class=\"tool-xuanze\"><span>选择</span></li>\r\n              </ul>\r\n          </div>\r\n          <div class=\"list\">\r\n              <ul class=\"functions uls1\" v-if=\"active == 1\">\r\n                  <li @click=\"shape('pen');\" data-role=\"pen\"><span>画笔</span></li>\r\n                  <li @click=\"shape('line');\" data-role=\"line\"><span>线</span></li>\r\n                  <li @click=\"shape('rect');\" data-role=\"rect\"><span>矩形</span></li>\r\n                  <li @click=\"shape('circle');\" data-role=\"circle\"><span>圆</span></li>\r\n                  <li @click=\"shape('five');\" data-role=\"five\"><span>五角星</span></li>\r\n              </ul>\r\n              <ul class=\"functions uls2\" v-if=\"active == 2\">\r\n                  <li @click=\"newFlie\"><span>新建</span></li>\r\n                  <li @click=\"preservation\"><span>保存</span></li>\r\n                  <li @click=\"backOff\"><span>后退</span></li>\r\n              </ul>\r\n              <ul class=\"functions uls3\" v-if=\"active == 3\">\r\n                  <li @click=\"fillOrStroke('stroke')\" data-role=\"stroke\"><span>画线</span></li>\r\n                  <li @click=\"fillOrStroke('fill')\" data-role=\"fill\"><span>填充</span></li>\r\n              </ul>\r\n              <ul class=\"functions uls4\" v-if=\"active == 4\"></ul>\r\n              <ul class=\"functions uls5\" v-if=\"active == 5\"></ul>\r\n              <ul class=\" functions uls6\" v-if=\"active == 6\">\r\n                  <li @click=\"thickness(1)\" data-role=\"1\"><span>细</span></li>\r\n                  <li @click=\"thickness(3)\" data-role=\"3\"><span>中</span></li>\r\n                  <li @click=\"thickness(6)\" data-role=\"6\"><span>粗</span></li>\r\n              </ul>\r\n              <ul class=\" functions uls7\" v-if=\"active == 7\">\r\n                  <li @click=\"rubber(20)\" data-role=\"20\"><span>小</span></li>\r\n                  <li @click=\"rubber(30)\" data-role=\"30\"><span>中</span></li>\r\n                  <li @click=\"rubber(80)\" data-role=\"80\"><span>大</span></li>\r\n                  <li @click=\"rubber(200)\" data-role=\"200\"><span>超级大</span></li>\r\n              </ul>\r\n              <ul class=\"functions uls8\" v-if=\"active == 8\">\r\n                  <li @click=\"cancelSelect()\" data-role=\"200\"><span>取消选择</span></li>\r\n              </ul>\r\n          </div>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import drawing from '@/assets/js/develop/drawing';\r\n  export default {\r\n    data() {\r\n      return {\r\n        active: 1,\r\n        c: '',    // canvas 实例化对象\r\n        xp: '',   // 橡皮擦\r\n        zhezhao: '',\r\n        xuanze: ''\r\n      }\r\n    },\r\n    mounted() {\r\n      let canvasBox = document.querySelector('.canvas-box');\r\n      let canvas    = document.querySelector('#canvas');\r\n      this.xuanze    = document.querySelector('.xuanze');\r\n      this.zhezhao   = document.querySelector('.zhezhao');\r\n      this.xp       = document.querySelector('.xp');\r\n      canvas.width  = canvasBox.offsetWidth;\r\n      canvas.height = canvasBox.offsetHeight;\r\n      let cxt = canvas.getContext('2d');\r\n      this.c = new drawing(cxt, canvasBox.offsetWidth, canvasBox.offsetHeight, canvas, this.xuanze, this.xp, this.zhezhao);\r\n    },\r\n    methods: {\r\n      shape (type) {\r\n        this.c.shaps = type;\r\n        this.c.shaps === 'pen' ? this.c.pen() : this.c.draw();\r\n      },\r\n      selectColor (color) {\r\n        this.c.bordercolor = color;\r\n      },\r\n      fillOrStroke (type) {\r\n        this.c.type = type;\r\n      },\r\n      thickness (num) {\r\n        this.c.lineWidth = num;\r\n      },\r\n      rubber (num) {\r\n        this.c.xp(this.zhezhao,this.xp,num,num);\r\n      },\r\n      xuanzeBtn(){\r\n        this.active = 8;\r\n        this.c.select(this.xuanze);\r\n      },\r\n      cancelSelect(){\r\n        this.c.zhezhao.style = \"display: none\";\r\n        this.c.xuanze.style = \"display: none\";\r\n      },\r\n      newFlie () {\r\n        if(this.c.history.length>0){\r\n          var yes = window.confirm(\"亲，是否保存？\");\r\n          if(yes){\r\n              location.href=(canvas.toDataURL().replace(\"data:image/png\",\"data:stream/octet\"));\r\n          }else{\r\n              this.c.history = [];\r\n              this.c.clearRect(0,0,canvas.width,canvas.height);\r\n          }\r\n        }        \r\n      },\r\n      preservation () {\r\n        if(this.c.history.length<=0){\r\n            alert(\"亲,没有要保存的内容\");\r\n        }else{\r\n            location.href=(canvas.toDataURL().replace(\"data:image/png\",\"data:stream/octet\"));\r\n        }        \r\n      },\r\n      backOff () {\r\n        if(this.c.history.length == 0){\r\n          alert(\"亲,没有历史记录\");\r\n          this.c.clearRect(0,0,canvas.width,canvas.height);\r\n          return;\r\n        }else{\r\n          var pop = this.c.history.pop();\r\n          this.c.cxt.clearRect(0,0,canvas.width,canvas.height);\r\n          this.c.cxt.putImageData(pop,0,0);\r\n        }        \r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .draw{\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n*{\r\n    box-sizing: border-box;\r\n}\r\n.canvas-box{\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.set-box{\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  display: none;\r\n}\r\n.drawing{\r\n    width: 100%;\r\n    height:100%;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n.drawing .tiaojie,.drawing .left,.drawing .right{\r\n    float: left;\r\n    height: 100%;\r\n}\r\n.drawing .tiaojie{\r\n    width: 80px;\r\n    background: #243C3C;\r\n    text-align: center;\r\n}\r\n.drawing .tiaojie ul{\r\n    width:100%;\r\n    height: 50%;\r\n}\r\n\r\n.drawing .tiaojie ul li{\r\n    width:80%;\r\n    height: 40px;\r\n    margin: 20px auto;\r\n    background: blue;\r\n    border-radius: 3px;\r\n    cursor: pointer;\r\n}\r\n\r\n.drawing .tiaojie ul li:nth-child(1){\r\n    background:#000000;\r\n}\r\n.drawing .tiaojie ul li:nth-child(2){\r\n    background: #ffffff;\r\n}\r\n.drawing .tiaojie ul li:nth-child(3){\r\n    background:red;\r\n}\r\n.drawing .tiaojie ul li:nth-child(4){\r\n    background: blue;\r\n}\r\n.drawing .tiaojie ul li:nth-child(5){\r\n    background:green;\r\n}\r\n.drawing .tiaojie ul li:nth-child(6){\r\n    background:deeppink;\r\n}\r\n.drawing .tiaojie ul li:nth-child(7){\r\n    background:orange;\r\n}\r\n.drawing .tiaojie ul li:nth-child(8){\r\n    background:purple;\r\n}\r\n\r\n.drawing .tiaojie ul li:hover{\r\n  animation: td 1s ease forwards;\r\n}\r\n\r\n.drawing .left{\r\n    width: calc(100% - 320px);\r\n    position: relative;\r\n}\r\n.drawing .left > .zhezhao{\r\n    width:100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top:0;\r\n    left:0;\r\n    z-index: 2;\r\n}\r\n.drawing .left > .xp{\r\n    display: none;\r\n    position: absolute;\r\n    background: #122EA0;\r\n}\r\n.drawing .left > .xuanze{\r\n    display: none;\r\n    border:1px dashed #000000;\r\n    position: absolute;\r\n}\r\n.drawing .right{\r\n    width: 240px;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n.drawing .right .tool,.drawing .right .list{\r\n    width:50%;\r\n    height: 100%;\r\n    float: left;\r\n}\r\n.drawing .right .tool{\r\n    border-right:1px solid darkgreen;\r\n}\r\n.drawing .right .tool ul{\r\n    width:100%;\r\n    height: 100%;\r\n    border:1px solid rgba(0,0,0,0);\r\n    background: #243C3C;\r\n}\r\n.drawing .right .tool ul li{\r\n    margin: 13px auto;\r\n    width:60%;\r\n    height: 60px;\r\n    color: #ffffff;\r\n    border-radius: 3px;\r\n    text-align: center;\r\n    line-height: 60px;\r\n    cursor: pointer;\r\n}\r\n\r\n.drawing .right .tool ul li span{\r\n     display: inline-block;\r\n }\r\n.drawing .right .tool ul li input{\r\n    border: 0;\r\n}\r\n.drawing .right .tool ul li:nth-child(1){\r\n    background-color:#207D59;\r\n}\r\n.drawing .right .tool ul li:nth-child(2){\r\n    background-color:#3B5B8E;\r\n}\r\n.drawing .right .tool ul li:nth-child(3){\r\n    background-color:#5C9FAF;\r\n}\r\n.drawing .right .tool ul li:nth-child(4){\r\n    background-color:#B85B53;\r\n}\r\n.drawing .right .tool ul li:nth-child(5){\r\n    background-color:#435DB2;\r\n}\r\n.drawing .right .tool ul li:nth-child(6){\r\n    background-color:#B243AD;\r\n}\r\n.drawing .right .tool ul li:nth-child(7){\r\n    background-color:#122EA0;\r\n}\r\n.drawing .right .tool ul li:nth-child(8){\r\n    background-color:#A05512;\r\n}\r\n.drawing .right .tool ul li:hover{\r\n  animation: hover 1s ease forwards;\r\n}\r\n.drawing .right .tool ul li:hover span{\r\n  animation: xz 4s ease forwards;\r\n}\r\n.drawing .right .list ul{\r\n    width:100%;\r\n    height: 100%;\r\n    border:1px solid rgba(0,0,0,0);\r\n    background: #243C3C;\r\n}\r\n.drawing .right .list ul li{\r\n     margin: 13px auto;\r\n     width:60%;\r\n     height: 60px;\r\n     border-radius: 3px;\r\n     color: #ffffff;\r\n     text-align: center;\r\n     line-height: 60px;\r\n    cursor: pointer;\r\n }\r\n\r\n.drawing .right .list .uls1 li{\r\n    background: #207D59;\r\n}\r\n\r\n.drawing .right .list .uls2 li{\r\n    background: #3B5B8E;\r\n}\r\n.drawing .right .list .uls3 li{\r\n    background: #5C9FAF;\r\n}\r\n\r\n.drawing .right .list .uls4 li{\r\n    background: #B85B53;\r\n}\r\n.drawing .right .list .uls5 li{\r\n    background: #435DB2;\r\n}\r\n\r\n.drawing .right .list .uls6 li{\r\n    background: #B243AD;\r\n}\r\n.drawing .right .list .uls7 li{\r\n    background: #122EA0;\r\n}\r\n.drawing .right .list .uls8 li{\r\n    background: #A05512;\r\n}\r\n.drawing .right .list li:hover{\r\n  animation: hover 1s ease forwards;\r\n}\r\n.zhezhao{\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  z-index: 10;\r\n  display: none;\r\n}\r\n\r\n/* 画布 */\r\ncanvas{\r\n    background: #cccccc;\r\n}\r\n\r\n\r\n/* 旋转 */\r\n@keyframes xz {\r\n    0%{\r\n        transform: rotateY(0deg);\r\n    }\r\n    100%{\r\n        transform: rotateY(360deg);\r\n    }\r\n\r\n}\r\n\r\n/* 鼠标滑过效果 */\r\n@keyframes hover {\r\n    0%{\r\n        opacity: 1;\r\n    }\r\n    100%{\r\n        opacity:0.6;\r\n    }\r\n}\r\n\r\n@keyframes td {\r\n    0%{\r\n        transform: translateY(0px);\r\n    }\r\n    25%{\r\n        transform: translateY(-10px);\r\n    }\r\n    50%{\r\n        transform: translateY(0px);\r\n    }\r\n    75%{\r\n        transform: translateY(-5px);\r\n    }\r\n    100%{\r\n        transform: translateY(0px);\r\n    }\r\n}\r\n\r\n/* 显示效果 */\r\n@keyframes show {\r\n    0%{\r\n        opacity: 0;\r\n    }\r\n    100%{\r\n       opacity: 1;\r\n    }\r\n}\r\n\r\n/* 隐藏效果 */\r\n@keyframes hide {\r\n    0%{\r\n        opacity: 1;\r\n    }\r\n    100%{\r\n        opacity: 0;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Draw.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Draw.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Draw.vue?vue&type=template&id=6f55108b&scoped=true&\"\nimport script from \"./Draw.vue?vue&type=script&lang=js&\"\nexport * from \"./Draw.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Draw.vue?vue&type=style&index=0&id=6f55108b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f55108b\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Draw.vue?vue&type=style&index=0&id=6f55108b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Draw.vue?vue&type=style&index=0&id=6f55108b&scoped=true&lang=css&\""],"sourceRoot":""}