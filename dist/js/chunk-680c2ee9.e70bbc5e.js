(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-680c2ee9"],{3007:function(e,t,i){"use strict";var o=i("326b");t["a"]={login:function(e){return o["a"].post("/api/login",e)},register:function(e){return o["a"].post("/api/register",e)},userInfo:function(e){return o["a"].post("/api/userInfo",e)}}},"4cdd":function(e,t,i){},8823:function(e,t,i){"use strict";var o=i("4cdd"),n=i.n(o);n.a},d0da:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"info"}},[i("el-form",{attrs:{"label-width":"200px","label-position":"left",model:e.form}},[i("el-form-item",{attrs:{label:"头像"}},[i("div",{staticClass:"avater-box"},[i("img",{staticClass:"avater",attrs:{src:e.form.avater}}),i("div",{staticClass:"update-avater"},[i("input",{ref:"upfile",staticClass:"file-update",attrs:{type:"file",accept:"image/png,image/jpeg,image/jpg"},on:{change:e.upfile}}),i("i",{staticClass:"el-icon-edit"})])])]),i("el-form-item",{attrs:{label:"性别"}},[i("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[i("el-radio",{attrs:{label:"1"}},[e._v("男")]),i("el-radio",{attrs:{label:"2"}},[e._v("女")])],1)],1),i("el-form-item",{attrs:{label:"个人简介"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),i("el-form-item",{attrs:{label:"操作"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1),i("el-dialog",{attrs:{title:"图片剪裁",visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"cropper-content"},[i("div",{staticClass:"cropper",staticStyle:{"text-align":"center"}},[i("vueCropper",{ref:"cropper",attrs:{img:e.option.img,outputSize:e.option.size,outputType:e.option.outputType,info:!0,full:e.option.full,canMove:e.option.canMove,canMoveBox:e.option.canMoveBox,original:e.option.original,autoCrop:e.option.autoCrop,fixed:e.option.fixed,fixedNumber:e.option.fixedNumber,centerBox:e.option.centerBox,infoTrue:e.option.infoTrue,fixedBox:e.option.fixedBox},on:{realTime:e.realTime}})],1)]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.finish}},[e._v("确认")])],1)])],1)},n=[],a=(i("a481"),i("cea2")),r=i("2149"),s=i("3007"),l={name:"login",data:function(){return{form:{},qiniuToken:"",dialogVisible:!1,option:{img:"",info:!0,outputSize:.8,outputType:"jpeg",canScale:!1,autoCrop:!0,autoCropWidth:100,autoCropHeight:100,fixedBox:!0,fixed:!0,fixedNumber:[1,1],full:!0,canMoveBox:!1,original:!1,centerBox:!1,infoTrue:!0}}},computed:{activeRoute:function(){return this.$route.path.replace("/","")}},mounted:function(){this.getToken()},methods:{realTime:function(){},finish:function(){var e=this;this.$refs.cropper.getCropBlob(function(t){var i="avater"+e.timeInit().getTime,o={fname:"",params:{},mimeType:["image/png","image/jpeg","image/jpg","image/gif"]},n={useCdnDomain:!0,region:null},r=a["upload"](t,i,e.qiniuToken,o,n),s=e;r.subscribe(function(e){console.log(e)},function(e){console.log(e)},function(e){s.form.avater="http://pito.nvmjs.com/"+e.key,s.dialogVisible=!1})})},upfile:function(){var e=this.$refs.upfile.files[0];this.option.img=this.getObjectUrl(e),this.dialogVisible=!0},getObjectUrl:function(e){var t=null;return void 0!=window.createObjectURL?t=window.createObjectURL(e):void 0!=window.webkitURL?t=window.webkitURL.createObjectURL(e):void 0!=window.URL&&(t=window.URL.createObjectURL(e)),t},submit:function(){var e=this;this.form.uid=localStorage.token,s["a"].userInfo(this.form).then(function(t){200==t.code&&e.$message({type:"success",message:"修改个人信息成功"})})},getToken:function(){var e=this;r["a"].getToken().then(function(t){200==t.code&&(e.qiniuToken=t.data.token)})}}},c=l,u=(i("8823"),i("2877")),p=Object(u["a"])(c,o,n,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-680c2ee9.e70bbc5e.js.map