(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b40b7574"],{"36bd":function(e,t,l){"use strict";var i=l("4bf8"),r=l("77f1"),n=l("9def");e.exports=function(e){var t=i(this),l=n(t.length),o=arguments.length,c=r(o>1?arguments[1]:void 0,l),u=o>2?arguments[2]:void 0,a=void 0===u?l:r(u,l);while(a>c)t[c++]=e;return t}},"454f":function(e,t,l){l("46a7");var i=l("584a").Object;e.exports=function(e,t,l){return i.defineProperty(e,t,l)}},"46a7":function(e,t,l){var i=l("63b6");i(i.S+i.F*!l("8e60"),"Object",{defineProperty:l("d9f6").f})},"6c7b":function(e,t,l){var i=l("5ca1");i(i.P,"Array",{fill:l("36bd")}),l("9c6c")("fill")},"85f2":function(e,t,l){e.exports=l("454f")},"86f0":function(e,t,l){},b0b4:function(e,t,l){"use strict";l.d(t,"a",function(){return o});var i=l("85f2"),r=l.n(i);function n(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r()(e,i.key,i)}}function o(e,t,l){return t&&n(e.prototype,t),l&&n(e,l),e}},bd86:function(e,t,l){"use strict";l.d(t,"a",function(){return n});var i=l("85f2"),r=l.n(i);function n(e,t,l){return t in e?r()(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}},d225:function(e,t,l){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}l.d(t,"a",function(){return i})},db3a:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"tank"},[l("div",{staticClass:"canvas-box"},[l("canvas",{attrs:{id:"canvas"}})])])}],n=(l("6c7b"),l("d225")),o=l("b0b4"),c=l("bd86"),u=function(){function e(t,l,i){Object(n["a"])(this,e),Object(c["a"])(this,"fillStyle","#fff"),Object(c["a"])(this,"colorArr",["#68ff03","#03a9ff","#026dff","#ff1705","#ff9600","#363535","#b98080","#0ac1f6","#050b43","#5059ac"]),Object(c["a"])(this,"vx",4),Object(c["a"])(this,"vy",4),Object(c["a"])(this,"player",{x:100,y:600,r:4,direction:0,speed:10,color:"#fff",bullet:[]}),Object(c["a"])(this,"npcArr",[{x:0,y:0,r:5,direction:0,speed:5,color:"#abcdef",bullet:[]},{x:0,y:0,r:5,direction:1,speed:5,color:"#abcdef",bullet:[]},{x:0,y:0,r:5,direction:2,speed:5,color:"#abcdef",bullet:[]},{x:0,y:0,r:5,direction:3,speed:5,color:"#abcdef",bullet:[]},{x:0,y:0,r:5,direction:0,speed:5,color:"#abcdef",bullet:[]},{x:0,y:0,r:5,direction:1,speed:5,color:"#abcdef",bullet:[]},{x:0,y:0,r:5,direction:2,speed:5,color:"#abcdef",bullet:[]},{x:0,y:0,r:5,direction:3,speed:5,color:"#abcdef",bullet:[]},{x:0,y:0,r:5,direction:1,speed:5,color:"#abcdef",bullet:[]}]),Object(c["a"])(this,"deathBall",[]),this.ctx=t,this.w=l,this.h=i,this.init(this.player,this.npcArr,this.deathBall),this.keySet(this.player)}return Object(o["a"])(e,[{key:"clear",value:function(e,t,l,i){this.ctx.clearRect(e,t,l,i)}},{key:"init",value:function(){var e=this;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();var t=this;(function e(){requestAnimFrame(e),t.clear(0,0,t.w,t.h),t.npc(t.npcArr),t.player&&(t.tank(t.player.x,t.player.y,t.player.r,t.player.direction,t.player.color),t.player.position=t.tankTrajectory(t.player.x,t.player.y,t.player.r),t.playerBullet(t.player),t.hit(t.player,t.npcArr,t.deathBall));for(var l=0;l<t.deathBall.length;l++)t.blast(t.deathBall[l])})(),setInterval(function(){for(var t=0;t<e.npcArr.length;t++)e.npcArr[t].direction=Math.round(3*Math.random())},2e3),setInterval(function(){for(var t=0;t<e.npcArr.length;t++){var l={x:e.npcArr[t].x+6*e.npcArr[t].r+e.npcArr[t].r/2,y:e.npcArr[t].y+6*e.npcArr[t].r+e.npcArr[t].r/2,r:4,direction:e.npcArr[t].direction,speed:10,color:"#abcdef"};e.npcArr[t].bullet.push(l)}},500)}},{key:"playerBullet",value:function(e){for(var t=0;t<e.bullet.length;t++)e.bullet[t].x<=0?e.bullet.splice(t,1):e.bullet[t].x>=this.w?e.bullet.splice(t,1):e.bullet[t].y<=0?e.bullet.splice(t,1):e.bullet[t].y>=this.h&&e.bullet.splice(t,1);for(var l=0;l<e.bullet.length;l++)2==e.bullet[l].direction&&(e.bullet[l].y=e.bullet[l].y-e.bullet[l].speed),0==e.bullet[l].direction&&(e.bullet[l].x=e.bullet[l].x-e.bullet[l].speed),1==e.bullet[l].direction&&(e.bullet[l].x=e.bullet[l].x+e.bullet[l].speed),3==e.bullet[l].direction&&(e.bullet[l].y=e.bullet[l].y+e.bullet[l].speed),e.bullet[l].position=this.bulletTrajectory(e.bullet[l].x,e.bullet[l].y,e.bullet[l].r),this.ball(e.bullet[l].x,e.bullet[l].y,e.bullet[l].r,e.bullet[l].color)}},{key:"npc",value:function(e){for(var t=0;t<e.length;t++)e[t].x<=0&&(e[t].direction=1),e[t].x>=this.w&&(e[t].direction=0),e[t].y<=0&&(e[t].direction=3),e[t].y>=this.h&&(e[t].direction=2),0==e[t].direction&&(e[t].x=e[t].x-e[t].speed),2==e[t].direction&&(e[t].y=e[t].y-e[t].speed),1==e[t].direction&&(e[t].x=e[t].x+e[t].speed),3==e[t].direction&&(e[t].y=e[t].y+e[t].speed),e[t].position=this.tankTrajectory(e[t].x,e[t].y,e[t].r),this.tank(e[t].x,e[t].y,e[t].r,e[t].direction,e[t].color),this.npcBullet(e[t])}},{key:"npcBullet",value:function(e){for(var t=0;t<e.bullet.length;t++)e.bullet[t].x<=0?e.bullet.splice(t,1):e.bullet[t].x>=this.w?e.bullet.splice(t,1):e.bullet[t].y<=0?e.bullet.splice(t,1):e.bullet[t].y>=this.h&&e.bullet.splice(t,1);for(var l=0;l<e.bullet.length;l++)0==e.bullet[l].direction&&(e.bullet[l].x=e.bullet[l].x-e.bullet[l].speed),2==e.bullet[l].direction&&(e.bullet[l].y=e.bullet[l].y-e.bullet[l].speed),1==e.bullet[l].direction&&(e.bullet[l].x=e.bullet[l].x+e.bullet[l].speed),3==e.bullet[l].direction&&(e.bullet[l].y=e.bullet[l].y+e.bullet[l].speed),e.bullet[l].position=this.bulletTrajectory(e.bullet[l].x,e.bullet[l].y,e.bullet[l].r),this.ball(e.bullet[l].x,e.bullet[l].y,e.bullet[l].r,e.bullet[l].color)}},{key:"hit",value:function(e,t,l){e:for(var i=0;i<e.bullet.length;i++)for(var r=0;r<t.length;r++)if(e.bullet[i].position.x1>=t[r].position.x1&&e.bullet[i].position.y1>=t[r].position.y1&&e.bullet[i].position.x2<=t[r].position.x2&&e.bullet[i].position.y2<=t[r].position.y2||e.bullet[i].position.x1<=t[r].position.x1&&e.bullet[i].position.y1<=t[r].position.y1&&e.bullet[i].position.x2>=t[r].position.x2&&e.bullet[i].position.y2>=t[r].position.y2){console.log("玩家命中"),l=this.death(t[r],l),t.splice(r,1),e.bullet.splice(i,1);continue e}e:for(var n=0;n<t.length;n++)for(var o=0;o<t[n].bullet.length;o++)if(t[n].bullet[o].position.x1>=e.position.x1&&t[n].bullet[o].position.y1>=e.position.y1&&t[n].bullet[o].position.x2<=e.position.x2&&t[n].bullet[o].position.y2<=e.position.y2){console.log("玩家被击中"),t[n].bullet.splice(o,1),l=this.death(e,l),this.player=null;break e}}},{key:"tank",value:function(e,t,l,i,r){for(var n=this.letter()[i],o=0;o<n.length;o++)for(var c=e+2*o*l+l,u=0;u<n[o].length;u++){var a=t+2*u*l+l;1==n[o][u]&&this.ball(c,a,l,r)}}},{key:"death",value:function(e,t){for(var l=this.letter()[e.direction],i=0;i<l.length;i++)for(var r=e.x+2*i*e.r+e.r,n=0;n<l[i].length;n++){var o=e.y+2*n*e.r+e.r;if(1==l[i][n]){var c={x:r,y:o,r:e.r,vx:10*Math.random()-5,vy:10*Math.random()-5,color:this.colorArr[Math.floor(10*Math.random())]};t.push(c),t.length>200&&t.splice(t.length-200,200)}}return t}},{key:"ball",value:function(e,t,l,i){this.ctx.fillStyle=i,this.ctx.beginPath(),this.ctx.arc(e,t,l,0,2*Math.PI),this.ctx.fill(),this.ctx.closePath()}},{key:"blast",value:function(e){this.ctx.fillStyle=e.color,this.ctx.beginPath(),e.x+=e.vx,e.y+=e.vy,this.ctx.arc(e.x,e.y,e.r,0,2*Math.PI),this.ctx.fill(),this.ctx.closePath()}},{key:"tankTrajectory",value:function(e,t,l){var i={};return i.x1=e,i.y1=t,i.x2=e+12*l,i.y2=t+12*l,i}},{key:"bulletTrajectory",value:function(e,t,l){var i={};return i.x1=e-l,i.y1=t-l,i.x2=e+l,i.y2=t+l,i}},{key:"keySet",value:function(e){var t,l=!1;document.onkeydown=function(i){var r=this;if(e)if(32!=i.keyCode)37==i.keyCode&&(e.direction=0),38==i.keyCode&&(e.direction=2),39==i.keyCode&&(e.direction=1),40==i.keyCode&&(e.direction=3),l||(t=setInterval(function(){0==e.direction&&(e.x=e.x-e.speed),2==e.direction&&(e.y=e.y-e.speed),1==e.direction&&(e.x=e.x+e.speed),3==e.direction&&(e.y=e.y+e.speed),e.x<=0&&(e.x=0),e.x>=r.w&&(e.x=r.w),e.y<=0&&(e.y=0),e.y>=r.h&&(e.y=r.h),e.x1=e.x-e.r,e.y1=e.y-e.r,e.x2=e.x+e.r,e.y2=e.y+e.r},10)),l=!0,document.onkeyup=function(){l=!1,clearInterval(t)};else{var n={x:e.x+6*e.r+e.r/2,y:e.y+6*e.r+e.r/2,r:4,direction:e.direction,speed:20,color:"#fff"};e.bullet.push(n)}}}},{key:"letter",value:function(){var e=[[[0,0,1,1,0,0],[0,0,1,1,0,0],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1]],[[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[0,0,1,1,0,0],[0,0,1,1,0,0]],[[0,0,1,1,1,1],[0,0,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[0,0,1,1,1,1],[0,0,1,1,1,1]],[[1,1,1,1,0,0],[1,1,1,1,0,0],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,0,0],[1,1,1,1,0,0]]];return e}}]),e}(),a=u,s={data:function(){return{}},mounted:function(){var e=document.querySelector(".canvas-box"),t=document.querySelector("#canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var l=t.getContext("2d");new a(l,e.offsetWidth,e.offsetHeight)},methods:{}},b=s,d=(l("e697"),l("2877")),f=Object(d["a"])(b,i,r,!1,null,"3153b70e",null);t["default"]=f.exports},e697:function(e,t,l){"use strict";var i=l("86f0"),r=l.n(i);r.a}}]);
//# sourceMappingURL=chunk-b40b7574.0752a702.js.map