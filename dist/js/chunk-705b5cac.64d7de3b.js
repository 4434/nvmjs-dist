(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-705b5cac"],{"7f7f":function(t,i,e){var n=e("86cc").f,a=Function.prototype,r=/^\s*function ([^ (]*)/,o="name";o in a||e("9e1e")&&n(a,o,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},abc0:function(t,i,e){},b0fb:function(t,i,e){"use strict";var n=e("326b");i["a"]={articleList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["a"].post("/api/article",t)},articleUs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["a"].post("/api/articleUs",t)},articleDetail:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["a"].get("/api/articleDetail",{params:t})},articleDelete:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["a"].get("/api/articleDelete",{params:t})},articleWrite:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["a"].post("/api/articleWrite",t)},articleUpdate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["a"].post("/api/articleUpdate",t)},articleStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["a"].post("/api/articleStatus",t)}}},d194:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"article-write"},[e("el-form",{attrs:{"label-position":t.labelPosition,"label-width":"80px",model:t.formLabelAlign}},[e("el-form-item",{attrs:{label:"请输入标题"}},[e("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.formLabelAlign.title,callback:function(i){t.$set(t.formLabelAlign,"title",i)},expression:"formLabelAlign.title"}})],1),e("el-form-item",{attrs:{label:"请选择类型"}},[e("el-radio-group",{attrs:{size:"mini"},model:{value:t.formLabelAlign.type,callback:function(i){t.$set(t.formLabelAlign,"type",i)},expression:"formLabelAlign.type"}},t._l(t.typeArr,(function(i){return e("el-radio-button",{key:i.id,attrs:{label:i.id}},[t._v(t._s(i.display))])})),1)],1),e("el-form-item",{staticStyle:{position:"relative"},attrs:{label:"请输入内容"}},[e("el-button",{staticStyle:{position:"absolute",right:"0",top:"-46px"},attrs:{type:"primary",size:"mini"},on:{click:t.articleBtn}},[e("i",{staticClass:"el-icon-upload2"}),t._v(" 发布文章")]),e("mavonEditor",{ref:"md",staticStyle:{"min-height":"600px"},on:{change:t.changeHTML,imgAdd:t.imgAdd},model:{value:t.formLabelAlign.markdown,callback:function(i){t.$set(t.formLabelAlign,"markdown",i)},expression:"formLabelAlign.markdown"}})],1)],1)],1)},a=[],r=(e("7f7f"),e("b2d8")),o=(e("64e1"),e("cea2")),l=e("2149"),c=e("b0fb"),s={components:{mavonEditor:r["mavonEditor"]},data:function(){return{labelPosition:"top",typeArr:[{id:1,display:"前端"},{id:2,display:"PHP"},{id:3,display:"料理"},{id:4,display:"工作"},{id:5,display:"娱乐"},{id:6,display:"八卦"},{id:7,display:"其他"}],formLabelAlign:{type:1},qiniuToken:null}},mounted:function(){this.init(),this.getToken()},methods:{init:function(){this.formLabelAlign.token=localStorage.token;var t=this.$route.query.id;t&&this.getDetail(t)},changeHTML:function(t,i){this.formLabelAlign.text=i},imgAdd:function(t,i){console.log(t,i);var e=this,n={fname:"",params:{},mimeType:["image/png","image/jpeg","image/jpg","image/gif"]},a={useCdnDomain:!0,region:null},r=o["upload"](i,i.name,e.qiniuToken,n,a);r.subscribe((function(t){}),(function(t){}),(function(i){var n="https://pito.nvmjs.com/"+i.key;e.$refs.md.$imglst2Url([[t,n]])}))},getDetail:function(t){var i=this;c["a"].articleDetail({id:t}).then((function(t){i.formLabelAlign=t.data}))},articleBtn:function(){var t=this.$route.query.id;t&&this.articleUpdate(t),!t&&this.articleWrite()},verification:function(){return this.formLabelAlign.title?this.formLabelAlign.markdown?this.formLabelAlign.type?void 0:(this.open("请选择类型","error"),!0):(this.open("请输入内容","error"),!0):(this.open("请输入标题","error"),!0)},articleUpdate:function(t){var i=this;this.formLabelAlign.id=t,this.verification()||c["a"].articleUpdate(this.formLabelAlign).then((function(t){200==t.code&&i.$router.push({name:"Index"})}))},articleWrite:function(){var t=this;this.verification()||c["a"].articleWrite(this.formLabelAlign).then((function(i){200==i.code&&t.$router.push({name:"Index"})}))},getToken:function(){var t=this;l["a"].getToken().then((function(i){200==i.code&&(t.qiniuToken=i.data.token)}))}}},u=s,f=(e("edf8"),e("2877")),d=Object(f["a"])(u,n,a,!1,null,"2f49b868",null);i["default"]=d.exports},edf8:function(t,i,e){"use strict";e("abc0")}}]);
//# sourceMappingURL=chunk-705b5cac.64d7de3b.js.map