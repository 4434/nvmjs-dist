(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b40b7574"],{"36bd":function(t,e,l){"use strict";var i=l("4bf8"),n=l("77f1"),r=l("9def");t.exports=function(t){var e=i(this),l=r(e.length),o=arguments.length,c=n(o>1?arguments[1]:void 0,l),u=o>2?arguments[2]:void 0,a=void 0===u?l:n(u,l);while(a>c)e[c++]=t;return e}},"454f":function(t,e,l){l("46a7");var i=l("584a").Object;t.exports=function(t,e,l){return i.defineProperty(t,e,l)}},"46a7":function(t,e,l){var i=l("63b6");i(i.S+i.F*!l("8e60"),"Object",{defineProperty:l("d9f6").f})},"6c7b":function(t,e,l){var i=l("5ca1");i(i.P,"Array",{fill:l("36bd")}),l("9c6c")("fill")},"85f2":function(t,e,l){t.exports=l("454f")},"86f0":function(t,e,l){},b0b4:function(t,e,l){"use strict";l.d(e,"a",function(){return o});var i=l("85f2"),n=l.n(i);function r(t,e){for(var l=0;l<e.length;l++){var i=e[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),n()(t,i.key,i)}}function o(t,e,l){return e&&r(t.prototype,e),l&&r(t,l),t}},bd86:function(t,e,l){"use strict";l.d(e,"a",function(){return r});var i=l("85f2"),n=l.n(i);function r(t,e,l){return e in t?n()(t,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[e]=l,t}},d225:function(t,e,l){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}l.d(e,"a",function(){return i})},db3a:function(t,e,l){"use strict";l.r(e);var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"tank"},[l("div",{staticClass:"canvas-box"},[l("canvas",{attrs:{id:"canvas"}})])])}],r=(l("6c7b"),l("d225")),o=l("b0b4"),c=l("bd86"),u=function(){function t(e,l,i){Object(r["a"])(this,t),Object(c["a"])(this,"fillStyle","#fff"),Object(c["a"])(this,"colorArr",["#68ff03","#03a9ff","#026dff","#ff1705","#ff9600","#363535","#b98080","#0ac1f6","#050b43","#5059ac"]),Object(c["a"])(this,"vx",4),Object(c["a"])(this,"vy",4),Object(c["a"])(this,"npcNUm",6),Object(c["a"])(this,"player",{x:100,y:600,r:4,direction:0,speed:10,color:"#0097A7",bullet:[]}),Object(c["a"])(this,"npcArr",this.npcCreate(this.npcNUm)),Object(c["a"])(this,"deathBall",[]),this.ctx=e,this.w=l,this.h=i,this.init(this.player,this.npcArr,this.deathBall),this.keySet(this.player)}return Object(o["a"])(t,[{key:"clear",value:function(t,e,l,i){this.ctx.clearRect(t,e,l,i)}},{key:"init",value:function(){var t=this;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();var e=this;(function t(){requestAnimFrame(t),e.clear(0,0,e.w,e.h),0==e.npcArr.length&&(e.npcNUm++,e.npcArr=e.npcCreate(e.npcNUm)),e.npc(e.npcArr),e.player&&(e.tank(e.player.x,e.player.y,e.player.r,e.player.direction,e.player.color),e.player.position=e.tankTrajectory(e.player.x,e.player.y,e.player.r),e.playerBullet(e.player),e.hit(e.player,e.npcArr,e.deathBall));for(var l=0;l<e.deathBall.length;l++)e.blast(e.deathBall[l])})(),setInterval(function(){for(var e=0;e<t.npcArr.length;e++)t.npcArr[e].direction=Math.round(3*Math.random())},2e3),setInterval(function(){for(var e=0;e<t.npcArr.length;e++){var l={x:t.npcArr[e].x+6*t.npcArr[e].r+t.npcArr[e].r/2,y:t.npcArr[e].y+6*t.npcArr[e].r+t.npcArr[e].r/2,r:4,direction:t.npcArr[e].direction,speed:10,color:"#abcdef"};t.npcArr[e].bullet.push(l)}},500)}},{key:"npcCreate",value:function(t){for(var e=[],l=0;l<t;l++)e.push({x:0,y:0,r:5,direction:Math.round(10*Math.random()%4),speed:5,color:"#abcdef",bullet:[]});return console.log(e),e}},{key:"playerBullet",value:function(t){for(var e=0;e<t.bullet.length;e++)t.bullet[e].x<=0?t.bullet.splice(e,1):t.bullet[e].x>=this.w?t.bullet.splice(e,1):t.bullet[e].y<=0?t.bullet.splice(e,1):t.bullet[e].y>=this.h&&t.bullet.splice(e,1);for(var l=0;l<t.bullet.length;l++)2==t.bullet[l].direction&&(t.bullet[l].y=t.bullet[l].y-t.bullet[l].speed),0==t.bullet[l].direction&&(t.bullet[l].x=t.bullet[l].x-t.bullet[l].speed),1==t.bullet[l].direction&&(t.bullet[l].x=t.bullet[l].x+t.bullet[l].speed),3==t.bullet[l].direction&&(t.bullet[l].y=t.bullet[l].y+t.bullet[l].speed),t.bullet[l].position=this.bulletTrajectory(t.bullet[l].x,t.bullet[l].y,t.bullet[l].r),this.ball(t.bullet[l].x,t.bullet[l].y,t.bullet[l].r,t.bullet[l].color)}},{key:"npc",value:function(t){for(var e=0;e<t.length;e++)t[e].x<=0&&(t[e].direction=1),t[e].x>=this.w&&(t[e].direction=0),t[e].y<=0&&(t[e].direction=3),t[e].y>=this.h&&(t[e].direction=2),0==t[e].direction&&(t[e].x=t[e].x-t[e].speed),2==t[e].direction&&(t[e].y=t[e].y-t[e].speed),1==t[e].direction&&(t[e].x=t[e].x+t[e].speed),3==t[e].direction&&(t[e].y=t[e].y+t[e].speed),t[e].position=this.tankTrajectory(t[e].x,t[e].y,t[e].r),this.tank(t[e].x,t[e].y,t[e].r,t[e].direction,t[e].color),this.npcBullet(t[e])}},{key:"npcBullet",value:function(t){for(var e=0;e<t.bullet.length;e++)t.bullet[e].x<=0?t.bullet.splice(e,1):t.bullet[e].x>=this.w?t.bullet.splice(e,1):t.bullet[e].y<=0?t.bullet.splice(e,1):t.bullet[e].y>=this.h&&t.bullet.splice(e,1);for(var l=0;l<t.bullet.length;l++)0==t.bullet[l].direction&&(t.bullet[l].x=t.bullet[l].x-t.bullet[l].speed),2==t.bullet[l].direction&&(t.bullet[l].y=t.bullet[l].y-t.bullet[l].speed),1==t.bullet[l].direction&&(t.bullet[l].x=t.bullet[l].x+t.bullet[l].speed),3==t.bullet[l].direction&&(t.bullet[l].y=t.bullet[l].y+t.bullet[l].speed),t.bullet[l].position=this.bulletTrajectory(t.bullet[l].x,t.bullet[l].y,t.bullet[l].r),this.ball(t.bullet[l].x,t.bullet[l].y,t.bullet[l].r,t.bullet[l].color)}},{key:"hit",value:function(t,e,l){t:for(var i=0;i<t.bullet.length;i++)for(var n=0;n<e.length;n++)if(t.bullet[i].position.x1>=e[n].position.x1&&t.bullet[i].position.y1>=e[n].position.y1&&t.bullet[i].position.x2<=e[n].position.x2&&t.bullet[i].position.y2<=e[n].position.y2||t.bullet[i].position.x1<=e[n].position.x1&&t.bullet[i].position.y1<=e[n].position.y1&&t.bullet[i].position.x2>=e[n].position.x2&&t.bullet[i].position.y2>=e[n].position.y2){console.log("玩家命中"),l=this.death(e[n],l),e.splice(n,1),t.bullet.splice(i,1);continue t}t:for(var r=0;r<e.length;r++)for(var o=0;o<e[r].bullet.length;o++)if(e[r].bullet[o].position.x1>=t.position.x1&&e[r].bullet[o].position.y1>=t.position.y1&&e[r].bullet[o].position.x2<=t.position.x2&&e[r].bullet[o].position.y2<=t.position.y2){console.log("玩家被击中"),e[r].bullet.splice(o,1),l=this.death(t,l),this.player=null;break t}}},{key:"tank",value:function(t,e,l,i,n){for(var r=this.letter()[i],o=0;o<r.length;o++)for(var c=t+2*o*l+l,u=0;u<r[o].length;u++){var a=e+2*u*l+l;1==r[o][u]&&this.ball(c,a,l,n)}}},{key:"death",value:function(t,e){for(var l=this.letter()[t.direction],i=0;i<l.length;i++)for(var n=t.x+2*i*t.r+t.r,r=0;r<l[i].length;r++){var o=t.y+2*r*t.r+t.r;if(1==l[i][r]){var c={x:n,y:o,r:t.r,vx:10*Math.random()-5,vy:10*Math.random()-5,color:this.colorArr[Math.floor(10*Math.random())]};e.push(c),e.length>200&&e.splice(e.length-200,200)}}return e}},{key:"ball",value:function(t,e,l,i){this.ctx.fillStyle=i,this.ctx.beginPath(),this.ctx.arc(t,e,l,0,2*Math.PI),this.ctx.fill(),this.ctx.closePath()}},{key:"blast",value:function(t){this.ctx.fillStyle=t.color,this.ctx.beginPath(),t.x+=t.vx,t.y+=t.vy,this.ctx.arc(t.x,t.y,t.r,0,2*Math.PI),this.ctx.fill(),this.ctx.closePath()}},{key:"tankTrajectory",value:function(t,e,l){var i={};return i.x1=t,i.y1=e,i.x2=t+12*l,i.y2=e+12*l,i}},{key:"bulletTrajectory",value:function(t,e,l){var i={};return i.x1=t-l,i.y1=e-l,i.x2=t+l,i.y2=e+l,i}},{key:"keySet",value:function(t){var e,l=!1;document.onkeydown=function(i){var n=this;if(t)if(32!=i.keyCode)37==i.keyCode&&(t.direction=0),38==i.keyCode&&(t.direction=2),39==i.keyCode&&(t.direction=1),40==i.keyCode&&(t.direction=3),l||(e=setInterval(function(){0==t.direction&&(t.x=t.x-t.speed),2==t.direction&&(t.y=t.y-t.speed),1==t.direction&&(t.x=t.x+t.speed),3==t.direction&&(t.y=t.y+t.speed),t.x<=0&&(t.x=0),t.x>=n.w&&(t.x=n.w),t.y<=0&&(t.y=0),t.y>=n.h&&(t.y=n.h),t.x1=t.x-t.r,t.y1=t.y-t.r,t.x2=t.x+t.r,t.y2=t.y+t.r},10)),l=!0,document.onkeyup=function(){l=!1,clearInterval(e)};else{var r={x:t.x+6*t.r+t.r/2,y:t.y+6*t.r+t.r/2,r:4,direction:t.direction,speed:20,color:"#0097A7"};t.bullet.push(r)}}}},{key:"letter",value:function(){var t=[[[0,0,1,1,0,0],[0,0,1,1,0,0],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1]],[[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[0,0,1,1,0,0],[0,0,1,1,0,0]],[[0,0,1,1,1,1],[0,0,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,1,1],[0,0,1,1,1,1],[0,0,1,1,1,1]],[[1,1,1,1,0,0],[1,1,1,1,0,0],[1,1,1,1,1,1],[1,1,1,1,1,1],[1,1,1,1,0,0],[1,1,1,1,0,0]]];return t}}]),t}(),a=u,s={data:function(){return{}},mounted:function(){var t=document.querySelector(".canvas-box"),e=document.querySelector("#canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var l=e.getContext("2d");new a(l,t.offsetWidth,t.offsetHeight)},methods:{}},b=s,f=(l("e697"),l("2877")),h=Object(f["a"])(b,i,n,!1,null,"3153b70e",null);e["default"]=h.exports},e697:function(t,e,l){"use strict";var i=l("86f0"),n=l.n(i);n.a}}]);
//# sourceMappingURL=chunk-b40b7574.1023bb18.js.map